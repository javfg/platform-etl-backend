@startuml
left to right direction
skinparam interface {
    backgroundColor<<input>> darkblue
    backgroundColor<<output>> cyan
}
skinparam artifact {
     backgroundColor<<noDependency>> orchid
     backgroundColor<<dependencies>> darkturquoise
 }
' steps
artifact associations <<dependencies>>
artifact associationOTF <<dependencies>>
artifact disease <<noDependency>>
artifact drug <<dependencies>>
artifact ebisearch <<dependencies>>
artifact evidence <<dependencies>>
artifact expression <<noDependency>>
artifact fda <<dependencies>>
artifact baselineExpression <<dependencies>>
artifact go <<noDependency>>
artifact epmc <<dependencies>>
artifact literature <<dependencies>>
artifact interactions <<dependencies>>
artifact knownDrugs <<dependencies>>
artifact otar <<dependencies>>
artifact reactome <<noDependency>>
artifact search <<dependencies>>
artifact target <<dependencies>>
artifact targetEngine <<dependencies>>
artifact targetValidation <<dependencies>>
artifact pharmacogenomics <<noDependency>>


'inputs
' association

  ' disease and source mapping static files
interface diseaseMapping <<input>>
interface sourceMapping <<input>>
' disease
interface efoOntology <<input>>
interface hpoOntology <<input>>
interface mondoOntology <<input>>
interface hpoPhenotype <<input>>
' drug
interface chemblMolecule <<input>>
interface chemblIndication <<input>>
interface chemblMechanism <<input>>
interface chemblTarget <<input>>
interface chemblWarning <<input>>
interface drugbankToChembl <<input>>
' ebisearch
' evidences
interface rawEvidences <<input>>
' expression
interface expressionData <<input>>
' fda
interface fdaData <<input>>
interface blacklistedEvents <<input>>
interface meddraPreferredTerms <<input>>
interface meddraLowLevelTerms <<input>>


' baselineExpression
interface baselineExpressionData <<input>>
' interactions
interface ensproteins <<input>>
interface rnaCentral <<input>>
interface humanMapping <<input>>
interface intact <<input>>
interface strings <<input>>
' known drugs
' targetEngine
interface hpaData <<input>>
interface uniprotSlterms <<input>>
interface mousePhenoScores <<input>>
' otar
interface otarMeta <<input>>
interface otarProjectToEfo <<input>>
' reactome
interface pathways <<input>>
interface relations <<input>>
' target
interface ensembl <<input>>
interface geneticConstraint <<input>>
interface geneOntology <<input>>
interface geneOntologyRna <<input>>
interface geneOntologyRnaLookup <<input>>
interface hallmarks <<input>>
interface hgnc <<input>>
interface homologyDictionary <<input>>
interface homologyCodingProteins <<input>>
interface homologyNcRna <<input>>
interface hpa <<input>>
interface ncbi <<input>>
interface ortholog <<input>>
interface psGeneIdentifier <<input>>
interface psEssentialityMatrix <<input>>
interface tep <<input>>
interface targetEssentiality <<input>>
interface tractability <<input>>
interface uniprot <<input>>
interface reactomePathways <<input>>

' pharmacogenomics
interface pharmacogenomicsData <<input>>

'safety
interface safetyToxicity <<input>>
interface safetyAdverseEvent <<input>>
interface safetySafetyRisk <<input>>

'literature
interface PmidPmcidDoiInput <<input>>
interface fullTextInput <<input>>
interface abstractsInput <<input>>

'outputs
  ' associations
interface associationByDatatypeDirect <<output>>
interface associationByDatasourceDirect <<output>>
interface associationByOverallDirect <<output>>
interface associationByDatasourceIndirect <<output>>
interface associationByDatatypeIndirect <<output>>
interface associationByOverallIndirect <<output>>
  ' aotf
interface AotfClickhouseOutput <<output>>
interface AotfElasticsearchOutput <<output>>
  ' epmc
interface epmcOutput <<output>>
interface epmcCooccurrences <<output>>
  ' literature
interface cooccurrencesOutput <<output>>
interface matchesOutput <<output>>
interface literatureIndexOutput <<output>>
interface literatureSentencesOutput <<output>>
interface failedCooccurrencesOutput <<output>>
interface failedMatchesOutput <<output>>
interface W2VModelOutput <<output>>
interface trainingSetOutput <<output>>
  ' disease
interface diseaseOutput <<output>>
interface diseaseHpoOutput <<output>>
interface diseaseToPhenotypeOutput <<output>>
  ' drug
interface moleculeOutput <<output>>
interface mechanismOfActionOutput <<output>>
interface IndicationOutput <<output>>
interface WarningsOutput <<output>>

  ' evidences
interface evidenceOutput <<output>>
  ' expression
interface expressionOutput <<output>>
  ' baselineExpression
interface validBaselineExpressionOutput <<output>>
  ' interactions
interface interactionsOutput <<output>>
interface interactionsEvidenceOutput <<output>>
interface interactionsUnmatchedOutput <<output>>
  ' known drugs
interface knownDrugsOutput <<output>>

  ' reactome
interface reactomeOutput <<output>>
  ' target
interface targetOutput <<output>>

  ' search
interface searchTargetOutput <<output>>
interface searchDiseaseOutput <<output>>
interface searchDrugOutput <<output>>

  ' targetValidation
interface mousePhenotypes <<input>>
interface mousePhenotypesOutput <<output>>
  ' pharmacogenomics
interface pharmacogenomicsOutput <<output>>


' relations

  ' targetValidation
targetOutput --> targetValidation
mousePhenotypes --> targetValidation
targetValidation --> mousePhenotypesOutput
  ' assocations
targetOutput --> associations
diseaseOutput --> associations
associations --> associationByDatasourceDirect
associations --> associationByDatasourceIndirect
associations --> associationByDatatypeDirect
associations --> associationByDatatypeIndirect
associations --> associationByOverallDirect
associations --> associationByOverallIndirect

  ' AOTF
reactomeOutput --> associationOTF
evidenceOutput --> associationOTF
diseaseOutput --> associationOTF
targetOutput --> associationOTF
associationOTF --> AotfClickhouseOutput
associationOTF --> AotfElasticsearchOutput

  ' disease
efoOntology --> disease
hpoOntology --> disease
mondoOntology --> disease
hpoPhenotype --> disease
disease --> diseaseOutput
disease --> diseaseHpoOutput
disease --> diseaseToPhenotypeOutput

  ' epmc
cooccurrencesOutput --> epmc
epmc --> epmcCooccurrences
epmc --> epmcOutput

  ' literature
targetOutput --> literature
diseaseOutput --> literature
moleculeOutput --> literature
PmidPmcidDoiInput --> literature
fullTextInput --> literature
abstractsInput --> literature
literature --> cooccurrencesOutput
literature --> matchesOutput
literature --> literatureIndexOutput
literature --> literatureSentencesOutput
literature --> failedMatchesOutput
literature --> failedCooccurrencesOutput
literature --> W2VModelOutput
literature --> trainingSetOutput

  ' drug
targetOutput --> drug
diseaseOutput --> drug
evidenceOutput --> drug
chemblMolecule --> drug
chemblIndication--> drug
chemblMechanism --> drug
chemblTarget --> drug
chemblWarning --> drug
drugbankToChembl --> drug
drug --> moleculeOutput
drug -->  mechanismOfActionOutput
drug --> IndicationOutput
drug --> WarningsOutput

  ' ebisearch
evidenceOutput --> ebisearch
diseaseOutput --> ebisearch
targetOutput --> ebisearch
associationByOverallDirect --> ebisearch
ebisearch --> ebisearchAssociationsOutput
ebisearch --> ebisearchEvidenceOutput

  ' evidences
targetOutput --> evidence
diseaseOutput --> evidence
rawEvidences --> evidence
epmcOutput --> evidence
evidence --> evidenceOutput

  ' expression
expressionData --> expression
expression --> expressionOutput

  ' fda
moleculeOutput --> fda
fdaData --> fda
blacklistedEvents --> fda
meddraPreferredTerms --> fda
meddraLowLevelTerms --> fda
fda --> fdaUnfiltered
fda --> fdaResults
fda --> fdaTargetsUnfiltered
fda --> fdaTargetsResults
fda --> fdaSampling
fda --> fdaSamplingTargets

  ' baselineExpression
baselineExpressionData --> baselineExpression
targetOutput --> baselineExpression
baselineExpression --> validBaselineExpressionOutput

  ' interactions
targetOutput --> interactions
rnaCentral --> interactions
humanMapping --> interactions
ensproteins --> interactions
intact --> interactions
strings --> interactions
interactions --> interactionsOutput
interactions --> interactionsEvidenceOutput
interactions --> interactionsUnmatchedOutput

  ' known drugs
evidenceOutput --> knownDrugs
diseaseOutput --> knownDrugs
targetOutput --> knownDrugs
moleculeOutput --> knownDrugs
mechanismOfActionOutput --> knownDrugs
knownDrugs --> knownDrugsOutput

  ' otar
diseaseOutput --> otar
otarMeta --> otar
otarProjectToEfo --> otar
otar --> otarOutput

  ' reactome
pathways --> reactome
relations --> reactome
reactome --> reactomeOutput

  ' search
evidenceOutput --> search
diseaseOutput --> search
diseaseToPhenotypeOutput --> search
diseaseHpoOutput --> search
targetOutput --> search
moleculeOutput --> search
mechanismOfActionOutput --> search
IndicationOutput --> search
associationByOverallIndirect --> search
search --> searchTargetOutput
search --> searchDiseaseOutput
search --> searchDrugOutput

' target
chemblTarget --> target
target --> targetOutput
ensembl --> target
geneticConstraint --> target
geneOntology --> target
geneOntologyRna  --> target
geneOntologyRnaLookup --> target
hallmarks --> target
hgnc --> target
homologyDictionary --> target
homologyCodingProteins --> target
homologyNcRna --> target
hpa --> target
ncbi --> target
ortholog --> target
psGeneIdentifier --> target
psEssentialityMatrix --> target
reactomeOutput --> target
reactomePathways --> target
safetyToxicity --> target
safetyAdverseEvent --> target
safetySafetyRisk --> target
tep --> target
targetEssentiality --> target
tractability --> target
uniprot --> target
' targetEngine
targetOutput --> targetEngine
moleculeOutput --> targetEngine
mechanismOfActionOutput --> targetEngine
mousePhenotypesOutput --> targetEngine
hpaData --> targetEngine
uniprotSlterms --> targetEngine
mousePhenoScores --> targetEngine
targetEngine --> targetEngineOutput
' pharmacogenomics
pharmacogenomicsData --> pharmacogenomics
pharmacogenomics --> pharmacogenomicsOutput

@enduml
